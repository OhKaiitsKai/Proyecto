<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pantry Pursuit: Supermarket</title>
    <style>
        /* Estilo para la división de la pantalla */
        .divider {
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px; /* Ajusta el ancho del divisor */
            height: 100%;
            background-color: #000; /* Color negro para el divisor */
            z-index: 1000; /* Para asegurarse de que la línea esté por encima de los elementos de la escena */
        }
    </style>
</head>

<body>
    <script type="module">
        import * as THREE from "./three.module.js";

        // Crear la escena principal del supermercado
        const mainScene = new THREE.Scene();
        mainScene.background = new THREE.Color("#f2f2f2");

        // Configuración de la cámara para el primer jugador
        const camera1 = new THREE.PerspectiveCamera(75, window.innerWidth / 2 / window.innerHeight, 0.1, 1000);
        camera1.position.set(0, 2, 5);

        // Configuración del renderizador para el primer jugador
        const renderer1 = new THREE.WebGLRenderer();
        renderer1.setSize(window.innerWidth / 2, window.innerHeight);
        renderer1.domElement.style.position = "absolute";
        renderer1.domElement.style.top = "0";
        renderer1.domElement.style.left = "0";
        document.body.appendChild(renderer1.domElement);

        // Configuración de la cámara para el segundo jugador
        const camera2 = new THREE.PerspectiveCamera(75, window.innerWidth / 2 / window.innerHeight, 0.1, 1000);
        camera2.position.set(0, 2, 5);

        // Configuración del renderizador para el segundo jugador
        const renderer2 = new THREE.WebGLRenderer();
        renderer2.setSize(window.innerWidth / 2, window.innerHeight);
        renderer2.domElement.style.position = "absolute";
        renderer2.domElement.style.top = "0";
        renderer2.domElement.style.left = `${window.innerWidth / 2}px`;
        document.body.appendChild(renderer2.domElement);

        // Añadir elementos a la escena del supermercado
        const addSupermarketElements = (scene) => {
            // Añadir piso con color beige
            const floorGeometry = new THREE.PlaneGeometry(10, 10);
            const floorMaterial = new THREE.MeshLambertMaterial({ color: 0xF5F5DC });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            scene.add(floor);

            // Añadir estanterías
            const shelfGeometry = new THREE.BoxGeometry(2, 1, 0.5);
            const shelfMaterial = new THREE.MeshLambertMaterial({ color: 0x8B4513 });
            for (let i = 0; i < 4; i++) {
                const shelf = new THREE.Mesh(shelfGeometry, shelfMaterial);
                shelf.position.set(i * 2 - 3, 0.5, -2);
                scene.add(shelf);
            }

            // Añadir varias luces
            const ambientLight = new THREE.AmbientLight(0xFFFFFF, 0.5);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xFFFFFF, 1);
            directionalLight.position.set(1, 3, 2);
            scene.add(directionalLight);
        };

        // Añadir elementos a ambas escenas
        addSupermarketElements(mainScene);

        // Función de animación
        function animate() {
            requestAnimationFrame(animate);

            // Actualizar la escena para ambos jugadores
            renderer1.render(mainScene, camera1);
            renderer2.render(mainScene, camera2);
        }

        // Iniciar la animación
        animate();
    </script>

    <!-- Divisor visual entre las dos mitades de la pantalla -->
    <div class="divider"></div>
</body>

</html>


